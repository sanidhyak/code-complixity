#include<cs50.h>
#include<stdio.h>
#include<math.h>

int main(void)
{ int sum=0;
  int i,m,f=0;
    long n=get_long("enter the card no.\t");
    for(i=0;i<=f;i++)
    {
        m=(n%10);
        n=(n-m)/10;
        if(n>0)
        {f++;}
        //printf("%i\n",m);       //checksum
        if(i%2!=0)
            {
                int k=m*2;
                if(k>=10)
                    {k=(k%10)+1;
                    sum= sum+k;
                    }
                else
                {sum=sum+k;}
            }
        else 
            {sum=sum+m;}        //end checksum
        
    }
    f++;
    printf("the sum: %i\n", sum);
    if(sum%10==0)
        {printf("Your card is valid.\n");
                if((f==16||f==13) && m==4)
                    {printf("you have a visa card.\n");}
                else if (f==16 && m==5)
                    {printf("you have a mastercard.\n");}
                else if (f==15 && m==3)
                    {printf("you have a american express.\n");}
                else
                    {printf("Cannot detect company.\n");}

        }
    else
        {printf("your card is invalid.\n");}
}
